(function(t){function e(e){for(var r,n,l=e[0],o=e[1],c=e[2],d=0,h=[];d<l.length;d++)n=l[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&h.push(i[n][0]),i[n]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(r=!1)}r&&(s.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},i={app:0},s=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"43cf":function(t,e,a){"use strict";var r=a("647d"),i=a.n(r);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"navbar navbar-default navbar-fixed-top navbar-transparent-black mm-fixed-top",attrs:{role:"navigation",id:"navbar"}},[t._m(0),t._m(1),a("div",{staticClass:"navbar-collapse"},[t._m(2),a("ul",{staticClass:"nav navbar-nav quick-actions"},[a("li",{staticClass:"dropdown divided user",attrs:{id:"current-user"}},[a("a",{staticClass:"dropdown-toggle options",attrs:{"data-toggle":"dropdown",href:"#"}},[t._v(" "+t._s(t.userName)+" "),a("i",{staticClass:"fa fa-caret-down"})]),a("ul",{staticClass:"dropdown-menu arrow settings animated fadeInDown"},[a("li",[a("i",{staticClass:"fa fa-power-off",on:{click:t.logout}},[t._v(" Logout")])])])])]),a("ul",{staticClass:"nav navbar-nav side-nav",attrs:{id:"sidebar"}},[a("li",{staticClass:"navigation",attrs:{id:"navigation"}},[t._m(3),a("ul",{staticClass:"menu"},[a("li",{class:["Browse"===t.$route.name?"active":""]},[a("router-link",{attrs:{to:"/"}},[a("i",{staticClass:"fa fa-home"}),t._v("Home ")])],1),a("li",{class:["Search"===t.$route.name?"active":""]},[a("router-link",{attrs:{to:"/search"}},[a("i",{staticClass:"fa fa-search"}),t._v("Search ")])],1),a("li",{class:["Shop"===t.$route.name?"active":""]},[a("router-link",{attrs:{to:"/shop"}},[a("i",{staticClass:"fa fa-shopping-cart"}),t._v("Check Out ")])],1)])])])])]),a("div",{staticClass:"col-md-12",attrs:{id:"content"}},[a("div",{staticClass:"pageheader"}),"Item"===t.$route.name?a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"end"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back to list")])],1):t._e(),a("router-view")],1)])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"navbar-header col-md-2"},[a("a",{staticClass:"navbar-brand",attrs:{href:"index.jsp"}},[a("strong",[t._v("Fablix")])]),a("div",{staticClass:"sidebar-collapse"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"fa fa-bars"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"copyrights"},[t._v("Collect from "),a("a",{attrs:{href:"https://github.com/yangchenxi",title:"CopyRights"}},[t._v("CopyRights Chenxi Yang Jingwen Mo")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav navbar-nav refresh"},[a("li",{staticClass:"divided"},[a("a",{staticClass:"page-refresh",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-refresh"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"sidebar-toggle",attrs:{href:"#","data-toggle":"#navigation"}},[t._v("Navigation "),a("i",{staticClass:"fa fa-angle-up"})])}],n={data:function(){return{userName:"TestUser"}},mounted:function(){var t=this;this.axios.get("/api/user").then((function(e){t.userName=e.data.data.firstName+","+e.data.data.lastName}))},methods:{logout:function(){this.axios.get("/api/logout").then((function(t){-1==t.data.message?window.location.href="/login":alert("Logout Failed!")}))}},computed:{}},l=n,o=a("2877"),c=Object(o["a"])(l,i,s,!1,null,null,null),u=c.exports,d=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"browse"},[null==this.$route.query.genre&&null==this.$route.query.alphabet?a("div",[a("el-divider",{attrs:{"content-position":"left"}},[t._v("Browse By Alphabet")]),a("span",[a("el-row",{attrs:{gutter:20}},t._l(t.alphabet,(function(e,r){return a("div",{key:r},[a("el-col",{attrs:{span:2}},[a("el-link",{attrs:{type:"danger"},on:{click:function(a){return t.onSubmit("alphabet",e)}}},[a("h3",[t._v(t._s(e))])])],1)],1)})),0)],1),a("el-divider",{attrs:{"content-position":"left"}},[t._v("Browse By Genre")]),a("span",[a("el-row",{attrs:{gutter:20}},t._l(t.data,(function(e,r){return a("div",{key:r},[a("el-col",{attrs:{span:5}},[a("el-link",{attrs:{type:"danger"},on:{click:function(a){return t.onSubmit("genre",e)}}},[a("h3",[t._v(t._s(e))])])],1)],1)})),0)],1)],1):a("div",[a("list-view")],1)])},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("el-row",{attrs:{span:30,type:"flex"}},[a("el-col",{attrs:{span:20}},[a("div",{staticClass:"grid-content"},[a("el-pagination",{attrs:{"page-sizes":[10,25,50,100],"current-page":this.page,"page-size":this.pagesize,"hide-on-single-page:true":"","background:true":"",layout:"sizes, prev, pager, next",total:t.tableData.totalItem},on:{"size-change":t.onPageSizeChange,"current-change":t.onPageChange}})],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content",attrs:{justify:"end"}},[a("el-select",{attrs:{"clearable:false":"",placeholder:"Browse By"},on:{change:t.onSortChange},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},[a("el-option",{attrs:{label:"Title then Rating",value:"title_rating"}}),a("el-option",{attrs:{label:"Rating then Title",value:"rating_title"}})],1)],1)]),a("el-col",{attrs:{span:5}},[a("div",{staticClass:"grid-content",attrs:{justify:"end"}},[a("el-select",{attrs:{"clearable:false":"",placeholder:"Order By"},on:{change:t.onOrderChange},model:{value:t.order,callback:function(e){t.order=e},expression:"order"}},[a("el-option",{attrs:{label:"Asending,Asending",value:"asc_asc"}}),a("el-option",{attrs:{label:"Asending,Descending",value:"asc_desc"}}),a("el-option",{attrs:{label:"Descending,Descending",value:"desc_desc"}}),a("el-option",{attrs:{label:"Descending,Asending",value:"desc_asc"}})],1)],1)])],1),a("br"),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.movies}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"success"},on:{click:function(a){return t.onMovieClick(e.$index)}}},[t._v(t._s(t.tableData.movies[e.$index].title))])]}}])}),a("el-table-column",{attrs:{prop:"year",label:"Year"}}),a("el-table-column",{attrs:{prop:"director",label:"Director"}}),a("el-table-column",{attrs:{label:"Genres"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.tableData.movies[e.$index].genres,(function(e,r){return a("div",{key:r},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{type:"success"},on:{click:function(a){return t.onGenreClick(e.name)}}},[t._v(t._s(e.name))])],1)],1)}))}}])}),a("el-table-column",{attrs:{label:"Stars"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.tableData.movies[e.$index].stars,(function(e,r){return a("div",{key:r},[a("li",[a("el-link",{attrs:{type:"warning"},on:{click:function(a){return t.onStarClick(e.id)}}},[t._v(t._s(e.name))])],1)])}))}}])}),a("el-table-column",{attrs:{prop:"rating",label:"Rating"}}),a("el-table-column",{attrs:{label:"Add To Shopping Cart"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",round:""},on:{click:function(a){return t.handleAddCart(e.$index)}}},[t._v("ADD")])]}}])})],1)],1)},m=[],v=(a("b0c0"),a("ac1f"),a("5319"),{name:"List",components:{},methods:{handleAddCart:function(t){this.axios.post("/api/cart/add",null,{params:{movieId:this.tableData.movies[t].id,movieTitle:this.tableData.movies[t].title}}).then((function(t){0==t.data.message?alert("Success!"):-1==t.data.message?alert("Auth Fail "+t.data.data):alert(t.data.data)}))},onGenreClick:function(t){this.$router.push({name:"Browse",query:{genre:t}}),location.reload()},onMovieClick:function(t){this.$router.push({name:"Item",params:{type:"movie",id:this.tableData.movies[t].id}})},onStarClick:function(t){this.$router.push({name:"Item",params:{type:"star",id:t}})},onPageSizeChange:function(t){this.pagesize=t,this.$router.replace({query:this.genQuery()}),this.requestData()},onPageChange:function(t){this.page=t,this.$router.replace({query:this.genQuery()}),this.requestData()},onOrderChange:function(t){this.order=t,this.$router.replace({query:this.genQuery()}),this.requestData()},onSortChange:function(t){this.sort=t,this.$router.replace({query:this.genQuery()}),this.requestData()},genQuery:function(){return{genre:this.genre,alphabet:this.alphabet,year:this.year,title:this.title,director:this.director,star:this.star,sort:this.sort,order:this.order,page:this.page,pagesize:this.pagesize}},requestData:function(){var t=this,e="";"Search"==this.$route.name?e="/api/search?page="+this.page+"&pagesize="+this.pagesize+"&sort="+this.sort+"&order="+this.order+"&title="+this.title+"&year="+this.year+"&director="+this.director+"&star="+this.star:null!=this.genre?(console.log(this.genre),e="/api/list?page="+this.page+"&pagesize="+this.pagesize+"&sort="+this.sort+"&order="+this.order+"&genre="+this.genre):null!=this.alphabet&&(e="/api/listalpha?page="+this.page+"&pagesize="+this.pagesize+"&sort="+this.sort+"&order="+this.order+"&alphabet="+this.alphabet),console.log(e),this.axios.get(e).then((function(e){0==e.data.message?t.tableData=e.data.data:-1==e.data.message?alert("auth fail!"+e.data.data):alert(e.data.data)}))}},mounted:function(){this.genre=this.$route.query.genre,this.alphabet=this.$route.query.alphabet,this.year=this.$route.query.year,this.title=this.$route.query.title,this.director=this.$route.query.director,this.star=this.$route.query.star,null!=this.$route.query.sort&&(this.sort=this.$route.query.sort),null!=this.$route.query.order&&(this.order=this.$route.query.order),null!=this.$route.query.page&&(this.page=parseInt(this.$route.query.page)),null!=this.$route.query.pagesize&&(this.pagesize=parseInt(this.$route.query.pagesize)),this.requestData()},data:function(){return{genre:"",alphabet:"",year:"",title:"",director:"",star:"",sort:"title_rating",order:"asc_asc",page:1,pagesize:10,tableData:[]}}}),g=v,y=Object(o["a"])(g,f,m,!1,null,null,null),b=y.exports,_={name:"Browse",components:{ListView:b},data:function(){return{alphabet:["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","*"],data:{}}},mounted:function(){var t=this;this.axios.get("/api/genres").then((function(e){0==e.data.message?t.data=e.data.data:-1==e.data.message?alert("Auth Fail "+e.data.data):alert(e.data.data)}))},methods:{onSubmit:function(t,e){"alphabet"==t?this.$router.push({name:"Browse",query:{alphabet:e}}):this.$router.push({name:"Browse",query:{genre:e}})}}},k=_,C=Object(o["a"])(k,h,p,!1,null,null,null),x=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("el-steps",{attrs:{space:200,active:t.active,simple:""}},[a("el-step",{attrs:{title:"Cart Items",icon:"el-icon-shopping-cart-full"}}),a("el-step",{attrs:{title:"Payment Information",icon:"el-icon-bank-card"}}),a("el-step",{attrs:{title:"Confirm",icon:"el-icon-check"}})],1),0===t.active?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cartData}},[a("el-table-column",{attrs:{prop:"title",label:"Title"}}),a("el-table-column",{attrs:{prop:"price",label:"Price"}}),a("el-table-column",{attrs:{label:"Quantity"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input-number",{attrs:{min:1,max:100},on:{change:function(a){return t.handleQuantity(e.$index)}},model:{value:t.cartData[e.$index].quantity,callback:function(a){t.$set(t.cartData[e.$index],"quantity",a)},expression:"cartData[scope.$index].quantity"}})]}}],null,!1,182723064)}),a("el-table-column",{attrs:{label:"Price Total"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.cartData[e.$index].quantity*t.cartData[e.$index].price)+" ")]}}],null,!1,628819777)}),a("el-table-column",{attrs:{label:"Operations"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index)}}},[t._v("Delete")])]}}],null,!1,2716176285)})],1),a("el-row",{attrs:{type:"flex"}},[a("h3",[t._v("Total: "+t._s(t.totalMoney))])]),a("el-button-group",[t.cartData.length>0?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.active++}}},[t._v("Next Step"),a("i",{staticClass:"el-icon-arrow-right el-icon-right"})]):t._e()],1)],1):1===t.active?a("div",[a("el-row",{attrs:{type:"flex"}},[a("h2",[t._v("Total: "+t._s(t.totalMoney))])]),a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"First Name"}},[a("el-input",{model:{value:t.first,callback:function(e){t.first=e},expression:"first"}})],1),a("el-form-item",{attrs:{label:"LastName"}},[a("el-input",{model:{value:t.last,callback:function(e){t.last=e},expression:"last"}})],1),a("el-form-item",{attrs:{label:"Card Number"}},[a("el-input",{attrs:{type:"number"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),a("el-form-item",{attrs:{label:"Expiration date"}},[a("el-input",{model:{value:t.expire,callback:function(e){t.expire=e},expression:"expire"}})],1)],1),a("el-button-group",[a("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(e){t.active--}}},[t._v("Previous Step")]),a("el-button",{attrs:{type:"success"},on:{click:t.checkout}},[t._v("Check out"),a("i",{staticClass:"el-icon-arrow-right el-icon-right"})])],1)],1):2===t.active?a("div",[a("div",{attrs:{align:"middle"}},[a("br"),a("h1",{attrs:{type:"success"}},[t._v("Success!")]),a("br"),a("h2",[t._v("Total: "+t._s(t.totalMoney))]),a("h2",[t._v("Detail:")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cartData}},[a("el-table-column",{attrs:{prop:"title",label:"Title"}}),a("el-table-column",{attrs:{prop:"quantity",label:"Quantity"}}),a("el-table-column",{attrs:{prop:"price",label:"Price"}}),a("el-table-column",{attrs:{label:"Sale IDs"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(t.cartData[e.$index].sid,(function(e,r){return a("div",{key:r},[t._v(" "+t._s(e)+", ")])}))}}])})],1),a("br"),a("br")],1)]):t._e()],1)},D=[],$=(a("a434"),{name:"Shop",components:{},data:function(){return{active:0,cartData:[],first:"",last:"",number:"",expire:"",userId:"",saleID:""}},computed:{totalMoney:function(){for(var t=0,e=0;e<this.cartData.length;e++)t+=this.cartData[e].price*this.cartData[e].quantity;return t}},mounted:function(){var t=this;this.getCart(),this.axios.get("/api/user").then((function(e){t.userId=e.data.data.id}))},methods:{handleDelete:function(t){this.cartData.splice(t,1),this.updateCart()},handleQuantity:function(t){console.log(t),this.updateCart()},checkout:function(){var t=this;this.axios.post("/api/cart/checkout",null,{params:{userId:this.userId,first:this.first,last:this.last,number:this.number,expire:this.expire}}).then((function(e){0==e.data.message?(t.active=2,t.cartData=e.data.data,t.saleID=e.data.sid):-1==e.data.message?alert("session auth fail "+e.data.data):alert("Payment Info Error!")}))},getCart:function(){var t=this;this.axios.get("/api/cart/show").then((function(e){0==e.data.message?t.cartData=e.data.data:-1==e.data.message?alert("AuthFail"+e.data.data):alert(e.data.data)}))},updateCart:function(){var t=this.cartData;this.axios.post("/api/cart/update",t)}}}),S=$,q=Object(o["a"])(S,w,D,!1,null,null,null),I=q.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[null==this.$route.query.title&&null==this.$route.query.year&&null==this.$route.query.director&&null==this.$route.query.star?a("div",[a("el-form",{attrs:{"label-width":"100px"}},[a("div",[a("el-form-item",{attrs:{label:"Title"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticStyle:{width:"100%",height:"auto"},domProps:{value:t.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.focusSel()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.titleInputEnter()},click:function(e){return t.titleInputClick()},input:function(e){e.target.composing||(t.title=e.target.value)}}}),t.showMe?a("div",{staticClass:"menu"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],ref:"sel",staticClass:"menu-item",attrs:{size:"10"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selenter()},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?a:a[0]}}},t._l(this.items,(function(e,r){return a("option",{key:r,on:{click:function(a){return t.remoteMethod(e.id)}}},[t._v(t._s(e.title))])})),0)]):t._e()])],1),a("el-form-item",{attrs:{label:"Year"}},[a("el-input",{attrs:{type:"number"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1),a("el-form-item",{attrs:{label:"Director"}},[a("el-input",{model:{value:t.director,callback:function(e){t.director=e},expression:"director"}})],1),a("el-form-item",{attrs:{label:"Star Name"}},[a("el-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Search")])],1)],1)],1):a("div",[a("list-view")],1)])},z=[],A=(a("4160"),a("159b"),{name:"Search",components:{ListView:b},data:function(){return{title:"",year:"",director:"",name:"",items:[{id:"12f",title:"fff"},{id:"126f",title:"fhff"}],titlemode:!1,selected:{},lock:!1,hash:{}}},computed:{showMe:function(){return!!(this.title.length>=3&&this.titlemode)}},watch:{selected:function(t){console.log(t+"-selected"),this.title=t},title:function(t){var e=this;t!=this.selected&&1==this.showMe&&(console.log(t),console.log(this.lock),0==this.lock&&(this.lock=!0,console.log("locked"),setTimeout((function(t){e.lock=!1,console.log("unlock"),t!=e.title&&e.getSugg()}),300),this.getSugg()))}},methods:{onSubmit:function(){""!=this.title||""!=this.year||""!=this.director||""!=this.name?this.$router.push({name:"Search",query:this.genQuery()}):alert("Empty query!")},genQuery:function(){return{title:this.title,year:this.year,director:this.director,star:this.name}},titleInputEnter:function(){this.titlemode=!1},titleInputClick:function(){this.titlemode=!0},focusSel:function(){this.$refs.sel.focus()},selenter:function(){var t=this.selected,e=this.remoteMethod;this.items.forEach((function(a){if(a.title==t)return console.log(a),void e(a.id)}))},remoteMethod:function(t){console.log(t),this.$router.push({name:"Item",params:{type:"movie",id:t}})},getSugg:function(){var t=this;if(null!=this.hash[this.title])this.items=this.hash[this.title];else{var e=this.title;this.axios.get("/api/fsearch?text="+this.title).then((function(a){0==a.data.message?(t.items=a.data.data,t.hash[e]=a.data.data):-1==a.data.message?alert("Auth Fail "+a.data.data):alert(a.data.data)}))}}}}),T=A,j=(a("43cf"),Object(o["a"])(T,O,z,!1,null,null,null)),E=j.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return"movie"===t.$route.params.type?a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("h1",[t._v(t._s(t.movieData.title))])])]),a("div",{staticClass:"text item"},[a("h4",[t._v("Year: "+t._s(t.movieData.year))])]),a("div",{staticClass:"text item"},[a("h4",[t._v("director: "+t._s(t.movieData.director))])]),a("div",{staticClass:"text item"},[a("h4",[t._v("Rating: "+t._s(t.movieData.rating))])]),a("div",{staticClass:"text item"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[t._v("Stars:")])]),t._l(t.movieData.stars,(function(e,r){return a("div",{key:r},[a("el-link",{attrs:{type:"success"},on:{click:function(a){return t.starClick(e.id)}}},[a("h4",[t._v(t._s(e.name))])])],1)}))],2),a("div",{staticClass:"text item"},[a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[t._v("Genres:")])]),t._l(t.movieData.genres,(function(e,r){return a("div",{key:r},[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.genreClick(e.name)}}},[t._v(t._s(e.name)+" ")])],1)}))],2),a("el-divider"),a("el-button",{attrs:{type:"primary",round:""},on:{click:function(e){return t.handleAddCart()}}},[t._v("ADD TO CART")])],1)],1):"star"===t.$route.params.type?a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[a("h1",[t._v(t._s(t.starData.name))])])]),a("div",{staticClass:"text item"},[a("h4",[t._v("BirthYear: "+t._s(t.starData.birthYear))])]),a("el-divider",{attrs:{"content-position":"left"}},[a("h4",[t._v("Movies:")])]),t._l(t.starData.movies,(function(e,r){return a("div",{key:r},[a("el-link",{attrs:{type:"success"},on:{click:function(a){return t.movieClick(e.id)}}},[a("h4",[t._v(t._s(e.title))])])],1)}))],2)],1):t._e()},P=[],B={name:"Item",components:{},data:function(){return{movieData:{},starData:{}}},mounted:function(){this.requestData()},methods:{starClick:function(t){this.$router.replace({name:"Item",params:{type:"star",id:t}}),this.requestData()},movieClick:function(t){this.$router.replace({name:"Item",params:{type:"movie",id:t}}),this.requestData()},genreClick:function(t){this.$router.push({name:"Browse",query:{genre:t}})},handleAddCart:function(){this.axios.post("/api/cart/add",null,{params:{movieId:this.movieData.id,movieTitle:this.movieData.title}}).then((function(t){0==t.data.message?alert("Success!"):-1==t.data.message?alert("Auth Fail "+t.data.data):alert(t.data.data)}))},requestData:function(){var t=this,e="";e="movie"==this.$route.params.type?"/api/movie?movieId="+this.$route.params.id:"/api/star?starId="+this.$route.params.id,this.axios.get(e).then((function(e){0==e.data.message?"movie"==t.$route.params.type?t.movieData=e.data.data:t.starData=e.data.data:-1==e.data.message?alert("Auth Fail "+e.data.data):alert(e.data.data)}))}}},N=B,Q=Object(o["a"])(N,M,P,!1,null,null,null),F=Q.exports;r["default"].use(d["a"]);var R=[{path:"/",name:"Browse",component:x},{path:"/search",name:"Search",component:E},{path:"/item/:type/:id",name:"Item",component:F},{path:"/shop",name:"Shop",component:I}],L=new d["a"]({routes:R}),Y=L,G=a("2f62");r["default"].use(G["a"]);var J=new G["a"].Store({state:{},mutations:{},actions:{},modules:{}}),V=a("5c96"),H=a.n(V),U=a("bc3a"),K=a.n(U),W=a("a7fe"),X=a.n(W);a("0fae");r["default"].use(H.a),r["default"].use(d["a"]),r["default"].use(X.a,K.a),r["default"].config.productionTip=!1,new r["default"]({router:Y,store:J,render:function(t){return t(u)}}).$mount("#app")},"647d":function(t,e,a){}});
//# sourceMappingURL=app.ce77dd90.js.map